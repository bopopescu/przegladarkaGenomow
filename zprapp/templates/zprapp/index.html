<!DOCTYPE html>
<html ng-app="ZprAppModule">
<head lang="en">
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular.min.js"></script>
    <script src="/static/zprapp/controllers.js"></script>
    <style type="text/css">
      .selected {
        background-color: lightgreen;
      }
    </style>
    <meta charset="UTF-8">
    <title></title>
</head>
<body ng-controller="OrganizmKontroler">
<table>
{#    jakis poczatkowy shit#}
{#    <tr>#}
{#        <td>#}
{#            <h2>organizmKontroler:</h2>#}
{#            {[ testowy ]}#}
{#        </td>#}
{#    </tr>#}
{#    <tr>#}
{#        <td>#}
{#            <h2>factory Items.cos:</h2>#}
{#            {[ dane ]}#}
{#        </td>#}
{#    </tr>#}
{#    <tr>#}
{#        <td>#}
{#             <h2>factory items organizmy() http.get:</h2>#}
{#             <input ng-model="id_organizmu" ng-change="fun(id_organizmu)">#}
{#             {[ reqget.nazwa ]}#}
{#              o id = {[ id_organizmu ]}#}
{#        </td>#}
{#    </tr>#}


{#    <tr>#}
{#        <td><h2>Dodawanie nowego organizmu</h2></td>#}
{#    </tr>#}
    <tr>
        <td>
            <button ng-click="toggleNowyOrganizm()"> Nowy Organizm</button>
            <div ng-show="showNowyOrganizm">
                <form name="NowyOrganizmForm">
                    <div>
                        Nazwa ogranizmu: <input ng-model="nowyOrganizm" required>
                    </div>
                    <div>
                        <button ng-click="dodano(nowyOrganizm)" ng-disabled="!NowyOrganizmForm.$valid">Zapisz</button>
                    </div>
                </form>
            </div>
            <hr>
        </td>
    </tr>
{#    <tr>#}
{#        <td><hr><h2>factory items organizmy() http.get przez ng-repeat:</h2></td>#}
{#    </tr>#}
{#    <tr>#}
{#        <td>reqget surowy: {[ reqget ]}</td>#}
{#    </tr>#}
    <tr>
        <td><h2>Organizmy :</h2></td>
    </tr>
{#    TODO dodac guziki do edycji po najechaniu myszką#}
    <tr ng-repeat="org in reqget | orderBy:'fields.nazwa'" ng-mouseenter="wybierzOrganizm($index)"
        ng-class='{selected: $index==wybranyOrganizm}'>
        <td>{[ org.fields.nazwa ]}</td>
{#        TODO akcja po naciscieciu edytuj#}
        <td><button ng-show=$index==wybranyOrganizm>Edytuj</button></td>
        <td><button ng-show=$index==wybranyOrganizm ng-click="usunOrganizm(org.fields.nazwa)">Usuń</button></td>
    </tr>
</table>
</body>
</html>